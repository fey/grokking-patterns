## Поведенческие шаблоны

Поведенческие шаблоны (англ. behavioral patterns) — шаблоны проектирования, определяющие алгоритмы и способы реализации взаимодействия различных объектов и классов.

В поведенческих шаблонах уровня класса используется наследование, чтобы определить поведение для различных классов. В поведенческих шаблонах уровня объекта используется композиция. Некоторые из них описывают, как с помощью кооперации несколько равноправных объектов работают над заданием, которое они не могут выполнить по отдельности. Здесь важно то, как объекты получают информацию о существовании друг друга. Объекты-коллеги могут хранить ссылки друг на друга, но это усиливает степень связанности системы. При высокой связанности каждому объекту пришлось бы иметь информацию обо всех остальных. Некоторые из шаблонов решают эту проблему.

### Команда

Команда (англ. Command) — поведенческий шаблон проектирования, используемый при объектно-ориентированном программировании, представляющий действие. Объект команды заключает в себе само действие и его параметры.

В объектно-ориентированном программировании шаблон проектирования Команда является поведенческим шаблоном, в котором объект используется для инкапсуляции всей информации, необходимой для выполнения действия или вызова события в более позднее время. Эта информация включает в себя имя метода, объект, который является владельцем метода и значения параметров метода.

```php
<?php

use Fey\Patterns\Behavioral\Command\Button;
use Fey\Patterns\Behavioral\Command\SendFeedbackMessageCommand;

$button = new Button(
    new SendFeedbackMessageCommand(
        new EmailClient(),
    )
);

$button->press(); // send email
```

### Стратегия

Стратегия (англ. Strategy) — поведенческий шаблон проектирования, предназначенный для определения семейства алгоритмов, инкапсуляции каждого из них и обеспечения их взаимозаменяемости. Это позволяет выбирать алгоритм путём определения соответствующего класса. Шаблон Strategy позволяет менять выбранный алгоритм независимо от объектов-клиентов, которые его используют.
По типу клиента (или по типу обрабатываемых данных) выбрать подходящий алгоритм, который следует применить. Если используется правило, которое не подвержено изменениям, нет необходимости обращаться к шаблону «стратегия».

```php
<?php

use Fey\Patterns\Behavioral\Strategy\Employee;
use Fey\Patterns\Behavioral\Strategy\SalaryCalculator;
use Fey\Patterns\Behavioral\Strategy\Strategies\AdultEmployeeCalculator;
use Fey\Patterns\Behavioral\Strategy\Strategies\ExperiencedEmployeeCalculator;
use Fey\Patterns\Behavioral\Strategy\Strategies\LessThan18Calculator;

function calculateSalary($employee): int
{
    $calculator = new SalaryCalculator(
        new AdultEmployeeCalculator(),
        new LessThan18Calculator(),
        new ExperiencedEmployeeCalculator(),
    );
    
    return $calculator->calculate($employee);
}

$employee = new Employee();

$salary = calculateSalary($employee);

```